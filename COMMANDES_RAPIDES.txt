================================================================================
COMMANDES RAPIDES - AIDE-M√âMOIRE
================================================================================

üìã INSTALLATION LOCALE
================================================================================
pip install -r requirements.txt


üìã SYST√àME DE QUEUE (RECOMMAND√â)
================================================================================

# Terminal 1 : D√©marrer le worker
python worker.py

# Terminal 2 : Ajouter des jobs
python add_job.py mon_fichier.csv --priority 1 --user "Alice"
python add_job.py autre_fichier.csv --priority 5 --user "Bob"

# Consulter l'√©tat
python monitor.py


üìã UTILISATION DIRECTE (Sans queue)
================================================================================
python run_scraper.py mon_fichier.csv


================================================================================
üì§ GITHUB
================================================================================

# Initialiser
git init
git add .
git commit -m "Initial commit"
git remote add origin https://github.com/username/repo.git
git push -u origin main

# Mises √† jour
git add .
git commit -m "Description des changements"
git push


================================================================================
üöÄ VPS HOSTINGER - D√âPLOIEMENT
================================================================================

# M√©thode 1 : Script automatique
bash deploy.sh
# (Modifier VPS_IP dans le fichier avant)

# M√©thode 2 : Manuel
ssh root@VOTRE_IP
git clone https://github.com/username/repo.git
cd repo
bash install_vps.sh
sudo bash install_service.sh
sudo systemctl start scraper-worker
sudo systemctl enable scraper-worker


================================================================================
üîß GESTION DU SERVICE VPS
================================================================================

# D√©marrer
sudo systemctl start scraper-worker

# Arr√™ter
sudo systemctl stop scraper-worker

# Red√©marrer
sudo systemctl restart scraper-worker

# Status
sudo systemctl status scraper-worker

# Logs en temps r√©el
tail -f logs/worker.log


================================================================================
üìä AJOUTER JOB SUR VPS
================================================================================

# 1. Copier le CSV sur le VPS
scp mon_fichier.csv root@VOTRE_IP:/opt/scrapeur-site-web/

# 2. SSH au VPS
ssh root@VOTRE_IP

# 3. Ajouter le job
cd /opt/scrapeur-site-web
source venv/bin/activate
python add_job.py mon_fichier.csv --priority 1

# 4. Consulter l'√©tat
python monitor.py

# 5. R√©cup√©rer r√©sultats (depuis PC local)
scp root@VOTRE_IP:/opt/scrapeur-site-web/results/*.json ./


================================================================================
üîç MONITORING
================================================================================

# √âtat de la queue
python monitor.py

# Logs worker
tail -f logs/worker.log

# Logs syst√®me (VPS)
sudo journalctl -u scraper-worker -f


================================================================================
‚öôÔ∏è CONFIGURATION
================================================================================

Modifier config.py :

# Plus lent mais plus s√ªr (√©viter ban)
DELAY_BETWEEN_REQUESTS = 2.0
MAX_CONCURRENT_SITES = 5

# Plus rapide (risque ban augment√©)
DELAY_BETWEEN_REQUESTS = 0.2
MAX_CONCURRENT_SITES = 15


================================================================================
üß™ TESTS
================================================================================

# Test avec exemple.csv (2 sites fictifs)
python add_job.py example.csv --priority 1

# Test monitoring
python monitor.py


================================================================================
üìÅ R√âCUP√âRATION R√âSULTATS
================================================================================

# Local
ls results/

# VPS vers local
scp -r root@VOTRE_IP:/opt/scrapeur-site-web/results/ ./


================================================================================
üîÑ MISE √Ä JOUR CODE (VPS)
================================================================================

ssh root@VOTRE_IP
cd /opt/scrapeur-site-web
git pull
source venv/bin/activate
pip install -r requirements.txt
sudo systemctl restart scraper-worker


================================================================================
FIN
================================================================================

